<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>D29 FORUM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="vendor/styles/reset.css">
    <link rel="stylesheet" href="styles/base/base.css">
    <link rel="stylesheet" href="styles/layout/layout.css">
    <link rel="stylesheet" href="styles/modules/modules.css">
    <link rel="stylesheet" href="styles/state/state.css">

    <script id="forum-template" type="text/x-handlebars-template">
      <section class="forumTableRow">
          <div class="subforumInfo">
            <a href="/subfora/{{subforaid}}">
              <span class="subforaTitle">{{title}}</span></br>
              <span class="subforaSubtitle">{{subtitle}}</span>
            </a>
          </div>
          <p class="commentCount">{{comment_count}}</p>
          <p class="threadCount">{{thread_count}}</p>
          <p class="lastComment">
              <div class="createdOn">{{created_on}}</div>
              <div class="username">by <a href="/user/{{username}}">{{username}}</a> 
                <a href="/subfora/{{commentsubforumparent}}/threads/{{commentthreadparent}}/#{{commentid}}">view latest post</a>
              </div>
          </p>
      </section>
    </script>
          <!-- <tr class="forumTableRow">
          <td class="board-info">
            <a href=`"/subfora/{{subforaid}}"`>
              <p class="subforaTitle">{{title}}</p>
              <p class="subforaSubtitle">{{subtitle}}</p>
            </a>
          </td>
          <td class="commentCount">{{comment_count}}</td>
          <td class="threadCount">{{thread_count}}</td>
          <td class="lastComment">
              <div class="createdOn">{{created_on}}</div>
              <div class="username">by <a href="/user/{{username}}">{{username}}</a> 
                <a href=`"/subfora/{{commentsubforumparent}}/threads/{{commentthreadparent}}/#{{commentid}}"`>view latest post</a>
              </div>
          </td>
      </tr> -->

    <script id="user-profile-template" type="text/x-handlebars-template">
            <p class="userName"><span class="first_name">{{first_name}}</span> <span class="last_name">{{last_name}}</span></p>
            <img class="gravatar_hash" src="https://www.gravatar.com/avatar/{{gravatar_hash}}">
            <p clas="role">{{role}}</p>
            <p class="userStats"><span class="created_on">Member Since {{created_on}}</span> | <span class="num_comments">{{num_comments}} Posts</span></p>
            <p class="username"><span class="userProfileSectionHeader">Username</span><br>{{username}}</p>
            <p class="email"><span class="userProfileSectionHeader">Email</span><br>{{email}}</p>
            <p class="interests"><span class="userProfileSectionHeader">Interests</span><br>{{interests}}</p>
    </script>

    <script id="comment-template" type="text/x-handlebars-template">
      <div data-comment-id="{{comment_id}}" class="comment-container {{username}}">
        <div>
          <p>{{username}}</p>
          <p>Join Date: {{user_created_on}}</p>
          <p>Number of posts: {{num_comments}}</p>
          <img src="https://www.gravatar.com/avatar/{{gravatar_hash}}">
        </div>
        <div>
          <p><span>posted on: {{comment_created_on}}</span><span class="editCommentButton hidden">edit</span></p>
          <p class="comment-content">{{content}}</p>
          <div class="editCommentView hidden">
            <textarea class="editCommentTextArea">{{content}}</textarea>
            <div class="saveCommentButton">Save</div>
            <div class="deleteCommentButton">Delete</div>
          </div>
        </div>
      </div>
    </script>

    <script id="thread-template" type="text/x-handlebars-template">
      <div data-thread-id="{{thread_id}}" class="thread">
        <span class="thread-title">{{title}}</span>
        <span class="username">{{thread_creator}}</span>
        <span>{{view_count}}</span>
        <span>{{comment_count}}</span>
        <span>
          <p class="username">{{last_commenter}}</p>
          <p>{{last_comment_created_on}}</p>
        </span>
      </div>
    </script>
  </head>
  <body> 
      <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="768" height="800" viewBox="0 0 768 800"><defs><g id="icon-close"><path class="path1" d="M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"></path></g></defs></svg>
      <header>
        <nav>
            <a href="/">home</a>
            <a id="login" class="notLoggedIn" href="/login">login</a>
            <a id="signup" class="notLoggedIn" href="/signup">signup</a>
            <a id="loggedInUser" class="loggedIn" href=""> </a>
            <button id="logoutButton" class="loggedIn">Logout</button>
        </nav>
      </header>

      <main>
        <section id="forumView" class="view forumView">
          <header>
              <p>table title</p>
              <p>
                <span class="tcForum">Forum</span>
                <span class="tcTopics">Comments</span>
                <span class="txThreads">Threads</span>
                <span class="tcLatestPost">Latest post</span>
              </p>
          </header>
          <div id="subforaContainer" class="subforaContainer">
            <!-- <tbody id="forumTable">
            <tr>
              <th colspan="5"><p>table title</p></th>
            </tr>
            <tr>
              <th class="tcForum">Forum</th>
              <th class="tcTopics">Comments</th>
              <th class="txThreads">Threads</th>
              <th class="tcLatestPost">Latest post</th>
            </tr>
            </tbody> -->

          </div>
        </section>


        <section id="subforumView" class="view subforumView">
          <header>
            <p class="subforum-title"></p>
            <p class="newThreadButton">New Topic</p>
          </header>
          <div class="threadsContainer"></div>
        </section>

        <section id="editUserView" class="view user editUserView">
            <form action="#" id="editProfileForm">
                <fieldset>
                        <label for="username">Username: </label>
                        <input type="text" id="editUsername" name="username">
                </fieldset>

                <fieldset>
                    <label for="Email">Email: </label>
                    <textarea rows="10" id="editEmail" name="Email"></textarea>
                </fieldset>

                <fieldset>
                    <label for="first_name">First Name: </label>
                    <input type="text" id="editFirst_name" name="first_name">
                </fieldset>
                
                <fieldset>
                    <label for="last_name">Last Name: </label>
                    <input type="text" id="editLast_name" name="last_name">
                </fieldset>
                    
                <fieldset>
                    <label for="gravatar_hash">Gravatar: </label>
                    <input type="text" id="editGravatar_hash" name="gravatar_hash">
                </fieldset>

                <fieldset>
                    <label for="interests">Interests: </label>
                    <input type="text" id="editInterests" name="interests">
                </fieldset>

                <button id="editButton" type="submit">update and return to the home page</button>
            </form>

            <button id="deleteProfileButton">Delete Profile</button>

        </section>

        <section id="loginUserView" class="view user loginUserView">
          <section id="userLogin" class="tab-content">
            <h1>User Login</h1>
            <form action="#" id="userLoginForm">
                <fieldset>
                    <label for="usernameLogin">UserName: </label>
                    <input type="text" id="usernameLogin" name="usernameLogin" placeholder="ex. crazyCoder">
                </fieldset>

                <button type="submit">Login</button>
            </form>
          </section>
        </section>

        <section id="newUserView" class="view user newUserView">
            <section id="newUser" class="tab-content">
                <h1>New User</h1>
                <form action="#" id="newUserForm">
                    <fieldset>
                        <label for="username">UserName: </label>
                        <input type="text" id="username" name="username" placeholder="ex. crazyCoder">
                    </fieldset>

                    <button type="submit">Submit and return to the home page</button>
                </form>
            </section>
        </section>

        <section id="userView" class="view user userView">
            <section id="userProfile">

            </section>
            <a id="editProfileButton" href="">Edit Profile</a>
        </section>

        <section id="newThreadView" class="view thread newThreadView">
          <header>
            <p>New Thread</p>
          </header>
          <input type="text" class="newThreadTitle" placeholder="Topic Title"></input>
          <textarea class="newThreadContent"></textarea>
          <button class="addThreadButton">Add Topic</button>
        </section>

        <section id="threadView" class="view thread threadView">
          <header></header>
          <div class="commentContainer"></div>
          <div class="addCommentContainer">
            <p>Contribute to the discussion!</p>
            <textarea class="addCommentTextArea"></textarea>
            <div class="addCommentButton">Add Comment</div>
          </div>
        </section>


        <section id="errorView" class="view errorView errorViewContainer">
            <img src="images/404.jpg" alt="404 error">
        </section>
      </main>

      <footer>

      </footer>
      <div class="modal">
        <div class="modal-overlay modal-toggle"></div>
        <div class="modal-wrapper modal-transition">
          <div class="modal-header">
            <button class="modal-close modal-toggle"><svg class="icon-close icon" viewBox="0 0 32 32"><use xlink:href="#icon-close"></use></svg></button>
            <h2 class="modal-heading">Username not found</h2>
          </div>
          
          <div class="modal-body">
            <div class="modal-content">
              <p>If you would like to create an account for <span id="userNameEntered"></span>please click the create user button. Or you can click retry to enter a username again.</p>
              <button id="modalCreateUserButton">Create User</button>
              <button class="modal-toggle">Retry</button>
            </div>
          </div>
        </div>
       </div>

      <script src="vendor/scripts/jquery.js"></script>
      <script src="vendor/scripts/handlebars.js"></script>
      <script src="vendor/scripts/page.js"></script>
      <script src="vendor/scripts/md5.js"></script>
      <script src="scripts/models/user.js"></script>
      <script src="scripts/models/comment.js"></script>
      <script src="scripts/models/thread.js"></script>
      <script src="scripts/models/subforum.js"></script>
      <script src="scripts/models/forum.js"></script>
      <script src="scripts/views/user/editUserView.js"></script>
      <script src="scripts/views/user/userView.js"></script>
      <script src="scripts/views/user/loginUserView.js"></script>
      <script src="scripts/views/user/newUserView.js"></script>
      <script src="scripts/views/thread/threadView.js"></script>
      <script src="scripts/views/thread/newThreadView.js"></script>
      <script src="scripts/views/comment/commentView.js"></script>
      <script src="scripts/views/comment/editCommentView.js"></script>
      <script src="scripts/views/subforum/subforumView.js"></script>
      <script src="scripts/views/forum/forumView.js"></script>
      <script src="scripts/views/errorView.js"></script>
      <script src="scripts/controllers/routes.js"></script>
      <script src="scripts/app.js"></script>
  </body>
</html>  
